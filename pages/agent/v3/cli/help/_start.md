<!--

 _____           ______                _______    _ _
(____ \         |  ___ \       _      (_______)  | (_)_
 _   \ \ ___    | |   | | ___ | |_     _____   _ | |_| |_
| |   | / _ \   | |   | |/ _ \|  _)   |  ___) / || | |  _)
| |__/ / |_| |  | |   | | |_| | |__   | |____( (_| | | |__
|_____/ \___/   |_|   |_|\___/ \___)  |_______)____|_|\___)

This file is auto-generated by scripts/update-agent-help.sh.

Instead of directly changing this file, you must:

1. Update the agent CLI help content in https://github.com/buildkite/agent (not in this repo)
2. Update AGENT_VERSION at the top of scripts/update-agent-help.sh (in your docs repo)
   to the new agent version tag or commit hash
3. From the root of your docs repo, run ./scripts/update-agent-help.sh

-->

### Usage

`buildkite-agent start [options...]`

### Description

When a job is ready to run it will call the &#34;bootstrap-script&#34;
and pass it all the environment variables required for the job to run.
This script is responsible for checking out the code, and running the
actual build script defined in the pipeline.

The agent will run any jobs within a PTY (pseudo terminal) if available.

### Example

```shell
$ buildkite-agent start --token xxx
```

### Options

<!-- vale off -->

<table class="Docs__attribute__table">
<tr id="no-color"><th><code>--no-color </code> <a class="Docs__attribute__link" href="#no-color">#</a></th><td><p>Don't show colors in logging (default: false)<br /><strong>Environment variable</strong>: <code>$BUILDKITE_AGENT_NO_COLOR</code></p></td></tr>
<tr id="debug"><th><code>--debug </code> <a class="Docs__attribute__link" href="#debug">#</a></th><td><p>Enable debug mode. Synonym for `--log-level debug`. Takes precedence over `--log-level` (default: false)<br /><strong>Environment variable</strong>: <code>$BUILDKITE_AGENT_DEBUG</code></p></td></tr>
<tr id="log-level"><th><code>--log-level value</code> <a class="Docs__attribute__link" href="#log-level">#</a></th><td><p>Set the log level for the agent, making logging more or less verbose. Defaults to notice. Allowed values are: debug, info, error, warn, fatal (default: "notice")<br /><strong>Environment variable</strong>: <code>$BUILDKITE_AGENT_LOG_LEVEL</code></p></td></tr>
<tr id="experiment"><th><code>--experiment value</code> <a class="Docs__attribute__link" href="#experiment">#</a></th><td><p>Enable experimental features within the buildkite-agent<br /><strong>Environment variable</strong>: <code>$BUILDKITE_AGENT_EXPERIMENT</code></p></td></tr>
<tr id="profile"><th><code>--profile value</code> <a class="Docs__attribute__link" href="#profile">#</a></th><td><p>Enable a profiling mode, either cpu, memory, mutex or block<br /><strong>Environment variable</strong>: <code>$BUILDKITE_AGENT_PROFILE</code></p></td></tr>
<tr id="config"><th><code>--config value</code> <a class="Docs__attribute__link" href="#config">#</a></th><td><p>Path to a configuration file<br /><strong>Environment variable</strong>: <code>$BUILDKITE_AGENT_CONFIG</code></p></td></tr>
<tr id="name"><th><code>--name value</code> <a class="Docs__attribute__link" href="#name">#</a></th><td><p>The name of the agent<br /><strong>Environment variable</strong>: <code>$BUILDKITE_AGENT_NAME</code></p></td></tr>
<tr id="priority"><th><code>--priority value</code> <a class="Docs__attribute__link" href="#priority">#</a></th><td><p>The priority of the agent (higher priorities are assigned work first)<br /><strong>Environment variable</strong>: <code>$BUILDKITE_AGENT_PRIORITY</code></p></td></tr>
<tr id="acquire-job"><th><code>--acquire-job value</code> <a class="Docs__attribute__link" href="#acquire-job">#</a></th><td><p>Start this agent and only run the specified job, disconnecting after it's finished<br /><strong>Environment variable</strong>: <code>$BUILDKITE_AGENT_ACQUIRE_JOB</code></p></td></tr>
<tr id="reflect-exit-status"><th><code>--reflect-exit-status </code> <a class="Docs__attribute__link" href="#reflect-exit-status">#</a></th><td><p>When used with --acquire-job, causes the agent to exit with the same exit status as the job (default: false)<br /><strong>Environment variable</strong>: <code>$BUILDKITE_AGENT_REFLECT_EXIT_STATUS</code></p></td></tr>
<tr id="disconnect-after-job"><th><code>--disconnect-after-job </code> <a class="Docs__attribute__link" href="#disconnect-after-job">#</a></th><td><p>Disconnect the agent after running exactly one job. When used in conjunction with the `--spawn` flag, each worker booted will run exactly one job (default: false)<br /><strong>Environment variable</strong>: <code>$BUILDKITE_AGENT_DISCONNECT_AFTER_JOB</code></p></td></tr>
<tr id="disconnect-after-idle-timeout"><th><code>--disconnect-after-idle-timeout value</code> <a class="Docs__attribute__link" href="#disconnect-after-idle-timeout">#</a></th><td><p>The maximum idle time in seconds to wait for a job before disconnecting. The default of 0 means no timeout (default: 0)<br /><strong>Environment variable</strong>: <code>$BUILDKITE_AGENT_DISCONNECT_AFTER_IDLE_TIMEOUT</code></p></td></tr>
<tr id="disconnect-after-uptime"><th><code>--disconnect-after-uptime value</code> <a class="Docs__attribute__link" href="#disconnect-after-uptime">#</a></th><td><p>The maximum uptime in seconds before the agent stops accepting new jobs and shuts down after any running jobs complete. The default of 0 means no timeout (default: 0)<br /><strong>Environment variable</strong>: <code>$BUILDKITE_AGENT_DISCONNECT_AFTER_UPTIME</code></p></td></tr>
<tr id="cancel-grace-period"><th><code>--cancel-grace-period value</code> <a class="Docs__attribute__link" href="#cancel-grace-period">#</a></th><td><p>The number of seconds a canceled or timed out job is given to gracefully terminate and upload its artifacts (default: 10)<br /><strong>Environment variable</strong>: <code>$BUILDKITE_CANCEL_GRACE_PERIOD</code></p></td></tr>
<tr id="enable-job-log-tmpfile"><th><code>--enable-job-log-tmpfile </code> <a class="Docs__attribute__link" href="#enable-job-log-tmpfile">#</a></th><td><p>Store the job logs in a temporary file `BUILDKITE_JOB_LOG_TMPFILE` that is accessible during the job and removed at the end of the job (default: false)<br /><strong>Environment variable</strong>: <code>$BUILDKITE_ENABLE_JOB_LOG_TMPFILE</code></p></td></tr>
<tr id="job-log-path"><th><code>--job-log-path value</code> <a class="Docs__attribute__link" href="#job-log-path">#</a></th><td><p>Location to store job logs created by configuring `enable-job-log-tmpfile`, by default job log will be stored in TempDir<br /><strong>Environment variable</strong>: <code>$BUILDKITE_JOB_LOG_PATH</code></p></td></tr>
<tr id="write-job-logs-to-stdout"><th><code>--write-job-logs-to-stdout </code> <a class="Docs__attribute__link" href="#write-job-logs-to-stdout">#</a></th><td><p>Writes job logs to the agent process' stdout. This simplifies log collection if running agents in Docker (default: false)<br /><strong>Environment variable</strong>: <code>$BUILDKITE_WRITE_JOB_LOGS_TO_STDOUT</code></p></td></tr>
<tr id="shell"><th><code>--shell value</code> <a class="Docs__attribute__link" href="#shell">#</a></th><td><p>The shell command used to interpret build commands, e.g /bin/bash -e -c (default: "/bin/bash -e -c")<br /><strong>Environment variable</strong>: <code>$BUILDKITE_SHELL</code></p></td></tr>
<tr id="queue"><th><code>--queue value</code> <a class="Docs__attribute__link" href="#queue">#</a></th><td><p>The queue the agent will listen to for jobs. If not set, the agent will use the default queue. Overwrites the queue tag in the agent's tags<br /><strong>Environment variable</strong>: <code>$BUILDKITE_AGENT_QUEUE</code></p></td></tr>
<tr id="tags"><th><code>--tags value</code> <a class="Docs__attribute__link" href="#tags">#</a></th><td><p>A comma-separated list of tags for the agent (for example, "linux" or "mac,xcode=8")<br /><strong>Environment variable</strong>: <code>$BUILDKITE_AGENT_TAGS</code></p></td></tr>
<tr id="tags-from-host"><th><code>--tags-from-host </code> <a class="Docs__attribute__link" href="#tags-from-host">#</a></th><td><p>Include tags from the host (hostname, machine-id, os) (default: false)<br /><strong>Environment variable</strong>: <code>$BUILDKITE_AGENT_TAGS_FROM_HOST</code></p></td></tr>
<tr id="tags-from-ec2-meta-data"><th><code>--tags-from-ec2-meta-data value</code> <a class="Docs__attribute__link" href="#tags-from-ec2-meta-data">#</a></th><td><p>Include the default set of host EC2 meta-data as tags (instance-id, instance-type, ami-id, and instance-life-cycle)<br /><strong>Environment variable</strong>: <code>$BUILDKITE_AGENT_TAGS_FROM_EC2_META_DATA</code></p></td></tr>
<tr id="tags-from-ec2-meta-data-paths"><th><code>--tags-from-ec2-meta-data-paths value</code> <a class="Docs__attribute__link" href="#tags-from-ec2-meta-data-paths">#</a></th><td><p>Include additional tags fetched from EC2 meta-data using tag & path suffix pairs, e.g "tag_name=path/to/value"<br /><strong>Environment variable</strong>: <code>$BUILDKITE_AGENT_TAGS_FROM_EC2_META_DATA_PATHS</code></p></td></tr>
<tr id="tags-from-ec2-tags"><th><code>--tags-from-ec2-tags </code> <a class="Docs__attribute__link" href="#tags-from-ec2-tags">#</a></th><td><p>Include the host's EC2 tags as tags (default: false)<br /><strong>Environment variable</strong>: <code>$BUILDKITE_AGENT_TAGS_FROM_EC2_TAGS</code></p></td></tr>
<tr id="tags-from-ecs-meta-data"><th><code>--tags-from-ecs-meta-data </code> <a class="Docs__attribute__link" href="#tags-from-ecs-meta-data">#</a></th><td><p>Include the host's ECS meta-data as tags (container-name, image, and task-arn) (default: false)<br /><strong>Environment variable</strong>: <code>$BUILDKITE_AGENT_TAGS_FROM_ECS_META_DATA</code></p></td></tr>
<tr id="tags-from-gcp-meta-data"><th><code>--tags-from-gcp-meta-data value</code> <a class="Docs__attribute__link" href="#tags-from-gcp-meta-data">#</a></th><td><p>Include the default set of host Google Cloud instance meta-data as tags (instance-id, machine-type, preemptible, project-id, region, and zone)<br /><strong>Environment variable</strong>: <code>$BUILDKITE_AGENT_TAGS_FROM_GCP_META_DATA</code></p></td></tr>
<tr id="tags-from-gcp-meta-data-paths"><th><code>--tags-from-gcp-meta-data-paths value</code> <a class="Docs__attribute__link" href="#tags-from-gcp-meta-data-paths">#</a></th><td><p>Include additional tags fetched from Google Cloud instance meta-data using tag & path suffix pairs, e.g "tag_name=path/to/value"<br /><strong>Environment variable</strong>: <code>$BUILDKITE_AGENT_TAGS_FROM_GCP_META_DATA_PATHS</code></p></td></tr>
<tr id="tags-from-gcp-labels"><th><code>--tags-from-gcp-labels </code> <a class="Docs__attribute__link" href="#tags-from-gcp-labels">#</a></th><td><p>Include the host's Google Cloud instance labels as tags (default: false)<br /><strong>Environment variable</strong>: <code>$BUILDKITE_AGENT_TAGS_FROM_GCP_LABELS</code></p></td></tr>
<tr id="wait-for-ec2-tags-timeout"><th><code>--wait-for-ec2-tags-timeout value</code> <a class="Docs__attribute__link" href="#wait-for-ec2-tags-timeout">#</a></th><td><p>The amount of time to wait for tags from EC2 before proceeding (default: 10s)<br /><strong>Environment variable</strong>: <code>$BUILDKITE_AGENT_WAIT_FOR_EC2_TAGS_TIMEOUT</code></p></td></tr>
<tr id="wait-for-ec2-meta-data-timeout"><th><code>--wait-for-ec2-meta-data-timeout value</code> <a class="Docs__attribute__link" href="#wait-for-ec2-meta-data-timeout">#</a></th><td><p>The amount of time to wait for meta-data from EC2 before proceeding (default: 10s)<br /><strong>Environment variable</strong>: <code>$BUILDKITE_AGENT_WAIT_FOR_EC2_META_DATA_TIMEOUT</code></p></td></tr>
<tr id="wait-for-ecs-meta-data-timeout"><th><code>--wait-for-ecs-meta-data-timeout value</code> <a class="Docs__attribute__link" href="#wait-for-ecs-meta-data-timeout">#</a></th><td><p>The amount of time to wait for meta-data from ECS before proceeding (default: 10s)<br /><strong>Environment variable</strong>: <code>$BUILDKITE_AGENT_WAIT_FOR_ECS_META_DATA_TIMEOUT</code></p></td></tr>
<tr id="wait-for-gcp-labels-timeout"><th><code>--wait-for-gcp-labels-timeout value</code> <a class="Docs__attribute__link" href="#wait-for-gcp-labels-timeout">#</a></th><td><p>The amount of time to wait for labels from GCP before proceeding (default: 10s)<br /><strong>Environment variable</strong>: <code>$BUILDKITE_AGENT_WAIT_FOR_GCP_LABELS_TIMEOUT</code></p></td></tr>
<tr id="git-checkout-flags"><th><code>--git-checkout-flags value</code> <a class="Docs__attribute__link" href="#git-checkout-flags">#</a></th><td><p>Flags to pass to "git checkout" command (default: "-f")<br /><strong>Environment variable</strong>: <code>$BUILDKITE_GIT_CHECKOUT_FLAGS</code></p></td></tr>
<tr id="git-clone-flags"><th><code>--git-clone-flags value</code> <a class="Docs__attribute__link" href="#git-clone-flags">#</a></th><td><p>Flags to pass to the "git clone" command (default: "-v")<br /><strong>Environment variable</strong>: <code>$BUILDKITE_GIT_CLONE_FLAGS</code></p></td></tr>
<tr id="git-clean-flags"><th><code>--git-clean-flags value</code> <a class="Docs__attribute__link" href="#git-clean-flags">#</a></th><td><p>Flags to pass to "git clean" command (default: "-ffxdq")<br /><strong>Environment variable</strong>: <code>$BUILDKITE_GIT_CLEAN_FLAGS</code></p></td></tr>
<tr id="git-fetch-flags"><th><code>--git-fetch-flags value</code> <a class="Docs__attribute__link" href="#git-fetch-flags">#</a></th><td><p>Flags to pass to "git fetch" command (default: "-v --prune")<br /><strong>Environment variable</strong>: <code>$BUILDKITE_GIT_FETCH_FLAGS</code></p></td></tr>
<tr id="git-clone-mirror-flags"><th><code>--git-clone-mirror-flags value</code> <a class="Docs__attribute__link" href="#git-clone-mirror-flags">#</a></th><td><p>Flags to pass to the "git clone" command when used for mirroring (default: "-v")<br /><strong>Environment variable</strong>: <code>$BUILDKITE_GIT_CLONE_MIRROR_FLAGS</code></p></td></tr>
<tr id="git-mirrors-path"><th><code>--git-mirrors-path value</code> <a class="Docs__attribute__link" href="#git-mirrors-path">#</a></th><td><p>Path to where mirrors of git repositories are stored<br /><strong>Environment variable</strong>: <code>$BUILDKITE_GIT_MIRRORS_PATH</code></p></td></tr>
<tr id="git-mirrors-lock-timeout"><th><code>--git-mirrors-lock-timeout value</code> <a class="Docs__attribute__link" href="#git-mirrors-lock-timeout">#</a></th><td><p>Seconds to lock a git mirror during clone, should exceed your longest checkout (default: 300)<br /><strong>Environment variable</strong>: <code>$BUILDKITE_GIT_MIRRORS_LOCK_TIMEOUT</code></p></td></tr>
<tr id="git-mirrors-skip-update"><th><code>--git-mirrors-skip-update </code> <a class="Docs__attribute__link" href="#git-mirrors-skip-update">#</a></th><td><p>Skip updating the Git mirror (default: false)<br /><strong>Environment variable</strong>: <code>$BUILDKITE_GIT_MIRRORS_SKIP_UPDATE</code></p></td></tr>
<tr id="bootstrap-script"><th><code>--bootstrap-script value</code> <a class="Docs__attribute__link" href="#bootstrap-script">#</a></th><td><p>The command that is executed for bootstrapping a job, defaults to the bootstrap sub-command of this binary<br /><strong>Environment variable</strong>: <code>$BUILDKITE_BOOTSTRAP_SCRIPT_PATH</code></p></td></tr>
<tr id="build-path"><th><code>--build-path value</code> <a class="Docs__attribute__link" href="#build-path">#</a></th><td><p>Path to where the builds will run from<br /><strong>Environment variable</strong>: <code>$BUILDKITE_BUILD_PATH</code></p></td></tr>
<tr id="hooks-path"><th><code>--hooks-path value</code> <a class="Docs__attribute__link" href="#hooks-path">#</a></th><td><p>Directory where the hook scripts are found<br /><strong>Environment variable</strong>: <code>$BUILDKITE_HOOKS_PATH</code></p></td></tr>
<tr id="additional-hooks-paths"><th><code>--additional-hooks-paths value</code> <a class="Docs__attribute__link" href="#additional-hooks-paths">#</a></th><td><p>Additional directories to look for agent hooks<br /><strong>Environment variable</strong>: <code>$BUILDKITE_ADDITIONAL_HOOKS_PATHS</code></p></td></tr>
<tr id="sockets-path"><th><code>--sockets-path value</code> <a class="Docs__attribute__link" href="#sockets-path">#</a></th><td><p>Directory where the agent will place sockets (default: "$HOME/.buildkite-agent/sockets")<br /><strong>Environment variable</strong>: <code>$BUILDKITE_SOCKETS_PATH</code></p></td></tr>
<tr id="plugins-path"><th><code>--plugins-path value</code> <a class="Docs__attribute__link" href="#plugins-path">#</a></th><td><p>Directory where the plugins are saved to<br /><strong>Environment variable</strong>: <code>$BUILDKITE_PLUGINS_PATH</code></p></td></tr>
<tr id="no-ansi-timestamps"><th><code>--no-ansi-timestamps </code> <a class="Docs__attribute__link" href="#no-ansi-timestamps">#</a></th><td><p>Do not insert ANSI timestamp codes at the start of each line of job output (default: false)<br /><strong>Environment variable</strong>: <code>$BUILDKITE_NO_ANSI_TIMESTAMPS</code></p></td></tr>
<tr id="timestamp-lines"><th><code>--timestamp-lines </code> <a class="Docs__attribute__link" href="#timestamp-lines">#</a></th><td><p>Prepend timestamps on each line of job output. Has no effect unless --no-ansi-timestamps is also used (default: false)<br /><strong>Environment variable</strong>: <code>$BUILDKITE_TIMESTAMP_LINES</code></p></td></tr>
<tr id="health-check-addr"><th><code>--health-check-addr value</code> <a class="Docs__attribute__link" href="#health-check-addr">#</a></th><td><p>Start an HTTP server on this addr:port that returns whether the agent is healthy, disabled by default<br /><strong>Environment variable</strong>: <code>$BUILDKITE_AGENT_HEALTH_CHECK_ADDR</code></p></td></tr>
<tr id="no-pty"><th><code>--no-pty </code> <a class="Docs__attribute__link" href="#no-pty">#</a></th><td><p>Do not run jobs within a pseudo terminal (default: false)<br /><strong>Environment variable</strong>: <code>$BUILDKITE_NO_PTY</code></p></td></tr>
<tr id="no-ssh-keyscan"><th><code>--no-ssh-keyscan </code> <a class="Docs__attribute__link" href="#no-ssh-keyscan">#</a></th><td><p>Don't automatically run ssh-keyscan before checkout (default: false)<br /><strong>Environment variable</strong>: <code>$BUILDKITE_NO_SSH_KEYSCAN</code></p></td></tr>
<tr id="no-command-eval"><th><code>--no-command-eval </code> <a class="Docs__attribute__link" href="#no-command-eval">#</a></th><td><p>Don't allow this agent to run arbitrary console commands, including plugins (default: false)<br /><strong>Environment variable</strong>: <code>$BUILDKITE_NO_COMMAND_EVAL</code></p></td></tr>
<tr id="no-plugins"><th><code>--no-plugins </code> <a class="Docs__attribute__link" href="#no-plugins">#</a></th><td><p>Don't allow this agent to load plugins (default: false)<br /><strong>Environment variable</strong>: <code>$BUILDKITE_NO_PLUGINS</code></p></td></tr>
<tr id="no-plugin-validation"><th><code>--no-plugin-validation </code> <a class="Docs__attribute__link" href="#no-plugin-validation">#</a></th><td><p>Don't validate plugin configuration and requirements (default: true)<br /><strong>Environment variable</strong>: <code>$BUILDKITE_NO_PLUGIN_VALIDATION</code></p></td></tr>
<tr id="plugins-always-clone-fresh"><th><code>--plugins-always-clone-fresh </code> <a class="Docs__attribute__link" href="#plugins-always-clone-fresh">#</a></th><td><p>Always make a new clone of plugin source, even if already present (default: false)<br /><strong>Environment variable</strong>: <code>$BUILDKITE_PLUGINS_ALWAYS_CLONE_FRESH</code></p></td></tr>
<tr id="no-local-hooks"><th><code>--no-local-hooks </code> <a class="Docs__attribute__link" href="#no-local-hooks">#</a></th><td><p>Don't allow local hooks to be run from checked out repositories (default: false)<br /><strong>Environment variable</strong>: <code>$BUILDKITE_NO_LOCAL_HOOKS</code></p></td></tr>
<tr id="no-git-submodules"><th><code>--no-git-submodules </code> <a class="Docs__attribute__link" href="#no-git-submodules">#</a></th><td><p>Don't automatically checkout git submodules (default: false) [$BUILDKITE_NO_GIT_SUBMODULES, $BUILDKITE_DISABLE_GIT_SUBMODULES]<br /><strong>Environment variable</strong>: <code>$BUILDKITE_NO_GIT_SUBMODULES</code></p></td></tr>
<tr id="skip-checkout"><th><code>--skip-checkout </code> <a class="Docs__attribute__link" href="#skip-checkout">#</a></th><td><p>Skip the git checkout phase entirely<br /><strong>Environment variable</strong>: <code>$BUILDKITE_SKIP_CHECKOUT</code></p></td></tr>
<tr id="no-feature-reporting"><th><code>--no-feature-reporting </code> <a class="Docs__attribute__link" href="#no-feature-reporting">#</a></th><td><p>Disables sending a list of enabled features back to the Buildkite mothership. We use this information to measure feature usage, but if you're not comfortable sharing that information then that's totally okay :) (default: false)<br /><strong>Environment variable</strong>: <code>$BUILDKITE_AGENT_NO_FEATURE_REPORTING</code></p></td></tr>
<tr id="allowed-repositories"><th><code>--allowed-repositories value</code> <a class="Docs__attribute__link" href="#allowed-repositories">#</a></th><td><p>A comma-separated list of regular expressions representing repositories the agent is allowed to clone (for example, "^git@github.com:buildkite/.*" or "^https://github.com/buildkite/.*")<br /><strong>Environment variable</strong>: <code>$BUILDKITE_ALLOWED_REPOSITORIES</code></p></td></tr>
<tr id="enable-environment-variable-allowlist"><th><code>--enable-environment-variable-allowlist </code> <a class="Docs__attribute__link" href="#enable-environment-variable-allowlist">#</a></th><td><p>Only run jobs where all environment variables are allowed by the allowed-environment-variables option, or have been set by Buildkite (default: false)<br /><strong>Environment variable</strong>: <code>$BUILDKITE_ENABLE_ENVIRONMENT_VARIABLE_ALLOWLIST</code></p></td></tr>
<tr id="allowed-environment-variables"><th><code>--allowed-environment-variables value</code> <a class="Docs__attribute__link" href="#allowed-environment-variables">#</a></th><td><p>A comma-separated list of regular expressions representing environment variables the agent will pass to jobs (for example, "^MYAPP_.*$"). Environment variables set by Buildkite will always be allowed. Requires --enable-environment-variable-allowlist to be set<br /><strong>Environment variable</strong>: <code>$BUILDKITE_ALLOWED_ENVIRONMENT_VARIABLES</code></p></td></tr>
<tr id="allowed-plugins"><th><code>--allowed-plugins value</code> <a class="Docs__attribute__link" href="#allowed-plugins">#</a></th><td><p>A comma-separated list of regular expressions representing plugins the agent is allowed to use (for example, "^buildkite-plugins/.*$" or "^/var/lib/buildkite-plugins/.*")<br /><strong>Environment variable</strong>: <code>$BUILDKITE_ALLOWED_PLUGINS</code></p></td></tr>
<tr id="metrics-datadog"><th><code>--metrics-datadog </code> <a class="Docs__attribute__link" href="#metrics-datadog">#</a></th><td><p>Send metrics to DogStatsD for Datadog (default: false)<br /><strong>Environment variable</strong>: <code>$BUILDKITE_METRICS_DATADOG</code></p></td></tr>
<tr id="metrics-datadog-host"><th><code>--metrics-datadog-host value</code> <a class="Docs__attribute__link" href="#metrics-datadog-host">#</a></th><td><p>The dogstatsd instance to send metrics to using udp (default: "127.0.0.1:8125")<br /><strong>Environment variable</strong>: <code>$BUILDKITE_METRICS_DATADOG_HOST</code></p></td></tr>
<tr id="metrics-datadog-distributions"><th><code>--metrics-datadog-distributions </code> <a class="Docs__attribute__link" href="#metrics-datadog-distributions">#</a></th><td><p>Use Datadog Distributions for Timing metrics (default: false)<br /><strong>Environment variable</strong>: <code>$BUILDKITE_METRICS_DATADOG_DISTRIBUTIONS</code></p></td></tr>
<tr id="log-format"><th><code>--log-format value</code> <a class="Docs__attribute__link" href="#log-format">#</a></th><td><p>The format to use for the logger output (default: "text")<br /><strong>Environment variable</strong>: <code>$BUILDKITE_LOG_FORMAT</code></p></td></tr>
<tr id="spawn"><th><code>--spawn value</code> <a class="Docs__attribute__link" href="#spawn">#</a></th><td><p>The number of agents to spawn in parallel (mutually exclusive with --spawn-per-cpu) (default: 1)<br /><strong>Environment variable</strong>: <code>$BUILDKITE_AGENT_SPAWN</code></p></td></tr>
<tr id="spawn-per-cpu"><th><code>--spawn-per-cpu value</code> <a class="Docs__attribute__link" href="#spawn-per-cpu">#</a></th><td><p>The number of agents to spawn per cpu in parallel (mutually exclusive with --spawn) (default: 0)<br /><strong>Environment variable</strong>: <code>$BUILDKITE_AGENT_SPAWN_PER_CPU</code></p></td></tr>
<tr id="spawn-with-priority"><th><code>--spawn-with-priority </code> <a class="Docs__attribute__link" href="#spawn-with-priority">#</a></th><td><p>Assign priorities to every spawned agent (when using --spawn or --spawn-per-cpu) equal to the agent's index (default: false)<br /><strong>Environment variable</strong>: <code>$BUILDKITE_AGENT_SPAWN_WITH_PRIORITY</code></p></td></tr>
<tr id="cancel-signal"><th><code>--cancel-signal value</code> <a class="Docs__attribute__link" href="#cancel-signal">#</a></th><td><p>The signal to use for cancellation (default: "SIGTERM")<br /><strong>Environment variable</strong>: <code>$BUILDKITE_CANCEL_SIGNAL</code></p></td></tr>
<tr id="signal-grace-period-seconds"><th><code>--signal-grace-period-seconds value</code> <a class="Docs__attribute__link" href="#signal-grace-period-seconds">#</a></th><td><p>The number of seconds given to a subprocess to handle being sent `cancel-signal`. After this period has elapsed, SIGKILL will be sent. Negative values are taken relative to `cancel-grace-period`. The default value (-1) means that the effective signal grace period is equal to `cancel-grace-period` minus 1. (default: -1)<br /><strong>Environment variable</strong>: <code>$BUILDKITE_SIGNAL_GRACE_PERIOD_SECONDS</code></p></td></tr>
<tr id="tracing-backend"><th><code>--tracing-backend value</code> <a class="Docs__attribute__link" href="#tracing-backend">#</a></th><td><p>Enable tracing for build jobs by specifying a backend, "datadog" or "opentelemetry"<br /><strong>Environment variable</strong>: <code>$BUILDKITE_TRACING_BACKEND</code></p></td></tr>
<tr id="tracing-propagate-traceparent"><th><code>--tracing-propagate-traceparent </code> <a class="Docs__attribute__link" href="#tracing-propagate-traceparent">#</a></th><td><p>Enable accepting traceparent context from Buildkite control plane (only supported for OpenTelemetry backend) (default: false)<br /><strong>Environment variable</strong>: <code>$BUILDKITE_TRACING_PROPAGATE_TRACEPARENT</code></p></td></tr>
<tr id="tracing-service-name"><th><code>--tracing-service-name value</code> <a class="Docs__attribute__link" href="#tracing-service-name">#</a></th><td><p>Service name to use when reporting traces. (default: "buildkite-agent")<br /><strong>Environment variable</strong>: <code>$BUILDKITE_TRACING_SERVICE_NAME</code></p></td></tr>
<tr id="verification-jwks-file"><th><code>--verification-jwks-file value</code> <a class="Docs__attribute__link" href="#verification-jwks-file">#</a></th><td><p>Path to a file containing a JSON Web Key Set (JWKS), used to verify job signatures.<br /><strong>Environment variable</strong>: <code>$BUILDKITE_AGENT_VERIFICATION_JWKS_FILE</code></p></td></tr>
<tr id="signing-jwks-file"><th><code>--signing-jwks-file value</code> <a class="Docs__attribute__link" href="#signing-jwks-file">#</a></th><td><p>Path to a file containing a signing key. Passing this flag enables pipeline signing for all pipelines uploaded by this agent. For hmac-sha256, the raw file content is used as the shared key. When using Docker containers to upload pipeline steps dynamically, use environment variable propagation (for example, "docker run -e BUILDKITE_AGENT_JWKS_FILE") to allow all steps within the pipeline to be signed.<br /><strong>Environment variable</strong>: <code>$BUILDKITE_AGENT_SIGNING_JWKS_FILE</code></p></td></tr>
<tr id="signing-jwks-key-id"><th><code>--signing-jwks-key-id value</code> <a class="Docs__attribute__link" href="#signing-jwks-key-id">#</a></th><td><p>The JWKS key ID to use when signing the pipeline. If omitted, and the signing JWKS contains only one key, that key will be used.<br /><strong>Environment variable</strong>: <code>$BUILDKITE_AGENT_SIGNING_JWKS_KEY_ID</code></p></td></tr>
<tr id="signing-aws-kms-key"><th><code>--signing-aws-kms-key value</code> <a class="Docs__attribute__link" href="#signing-aws-kms-key">#</a></th><td><p>The KMS KMS key ID, or key alias used when signing and verifying the pipeline.<br /><strong>Environment variable</strong>: <code>$BUILDKITE_AGENT_SIGNING_AWS_KMS_KEY</code></p></td></tr>
<tr id="debug-signing"><th><code>--debug-signing </code> <a class="Docs__attribute__link" href="#debug-signing">#</a></th><td><p>Enable debug logging for pipeline signing. This can potentially leak secrets to the logs as it prints each step in full before signing. Requires debug logging to be enabled (default: false)<br /><strong>Environment variable</strong>: <code>$BUILDKITE_AGENT_DEBUG_SIGNING</code></p></td></tr>
<tr id="verification-failure-behavior"><th><code>--verification-failure-behavior value</code> <a class="Docs__attribute__link" href="#verification-failure-behavior">#</a></th><td><p>The behavior when a job is received without a valid verifiable signature (without a signature, with an invalid signature, or with a signature that fails verification). One of: [block warn]. Defaults to block (default: "block")<br /><strong>Environment variable</strong>: <code>$BUILDKITE_AGENT_JOB_VERIFICATION_NO_SIGNATURE_BEHAVIOR</code></p></td></tr>
<tr id="disable-warnings-for"><th><code>--disable-warnings-for value</code> <a class="Docs__attribute__link" href="#disable-warnings-for">#</a></th><td><p>A list of warning IDs to disable<br /><strong>Environment variable</strong>: <code>$BUILDKITE_AGENT_DISABLE_WARNINGS_FOR</code></p></td></tr>
<tr id="token"><th><code>--token value</code> <a class="Docs__attribute__link" href="#token">#</a></th><td><p>Your account agent token<br /><strong>Environment variable</strong>: <code>$BUILDKITE_AGENT_TOKEN</code></p></td></tr>
<tr id="endpoint"><th><code>--endpoint value</code> <a class="Docs__attribute__link" href="#endpoint">#</a></th><td><p>The Agent API endpoint (default: "<code>https://agent.buildkite.com/v3</code>")<br /><strong>Environment variable</strong>: <code>$BUILDKITE_AGENT_ENDPOINT</code></p></td></tr>
<tr id="no-http2"><th><code>--no-http2 </code> <a class="Docs__attribute__link" href="#no-http2">#</a></th><td><p>Disable HTTP2 when communicating with the Agent API (default: false)<br /><strong>Environment variable</strong>: <code>$BUILDKITE_NO_HTTP2</code></p></td></tr>
<tr id="debug-http"><th><code>--debug-http </code> <a class="Docs__attribute__link" href="#debug-http">#</a></th><td><p>Enable HTTP debug mode, which dumps all request and response bodies to the log (default: false)<br /><strong>Environment variable</strong>: <code>$BUILDKITE_AGENT_DEBUG_HTTP</code></p></td></tr>
<tr id="trace-http"><th><code>--trace-http </code> <a class="Docs__attribute__link" href="#trace-http">#</a></th><td><p>Enable HTTP trace mode, which logs timings for each HTTP request. Timings are logged at the debug level unless a request fails at the network level in which case they are logged at the error level (default: false)<br /><strong>Environment variable</strong>: <code>$BUILDKITE_AGENT_TRACE_HTTP</code></p></td></tr>
<tr id="kubernetes-exec"><th><code>--kubernetes-exec </code> <a class="Docs__attribute__link" href="#kubernetes-exec">#</a></th><td><p>This is intended to be used only by the Buildkite k8s stack (github.com/buildkite/agent-stack-k8s); it enables a Unix socket for transporting logs and exit statuses between containers in a pod (default: false)<br /><strong>Environment variable</strong>: <code>$BUILDKITE_KUBERNETES_EXEC</code></p></td></tr>
<tr id="redacted-vars"><th><code>--redacted-vars value</code> <a class="Docs__attribute__link" href="#redacted-vars">#</a></th><td><p>Pattern of environment variable names containing sensitive values (default: "*_PASSWORD", "*_SECRET", "*_TOKEN", "*_PRIVATE_KEY", "*_ACCESS_KEY", "*_SECRET_KEY", "*_CONNECTION_STRING")<br /><strong>Environment variable</strong>: <code>$BUILDKITE_REDACTED_VARS</code></p></td></tr>
<tr id="strict-single-hooks"><th><code>--strict-single-hooks </code> <a class="Docs__attribute__link" href="#strict-single-hooks">#</a></th><td><p>Enforces that only one checkout hook, and only one command hook, can be run (default: false)<br /><strong>Environment variable</strong>: <code>$BUILDKITE_STRICT_SINGLE_HOOKS</code></p></td></tr>
<tr id="trace-context-encoding"><th><code>--trace-context-encoding value</code> <a class="Docs__attribute__link" href="#trace-context-encoding">#</a></th><td><p>Sets the inner encoding for BUILDKITE_TRACE_CONTEXT. Must be either json or gob (default: "gob")<br /><strong>Environment variable</strong>: <code>$BUILDKITE_TRACE_CONTEXT_ENCODING</code></p></td></tr>
<tr id="no-multipart-artifact-upload"><th><code>--no-multipart-artifact-upload </code> <a class="Docs__attribute__link" href="#no-multipart-artifact-upload">#</a></th><td><p>For Buildkite-hosted artifacts, disables the use of multipart uploads. Has no effect on uploads to other destinations such as custom cloud buckets (default: false)<br /><strong>Environment variable</strong>: <code>$BUILDKITE_NO_MULTIPART_ARTIFACT_UPLOAD</code></p></td></tr>
<tr id="kubernetes-log-collection-grace-period"><th><code>--kubernetes-log-collection-grace-period value</code> <a class="Docs__attribute__link" href="#kubernetes-log-collection-grace-period">#</a></th><td><p>Deprecated, do not use (default: 50s)<br /><strong>Environment variable</strong>: <code>$BUILDKITE_KUBERNETES_LOG_COLLECTION_GRACE_PERIOD</code></p></td></tr>
<tr id="tags-from-ec2"><th><code>--tags-from-ec2 </code> <a class="Docs__attribute__link" href="#tags-from-ec2">#</a></th><td><p>Include the host's EC2 meta-data as tags (instance-id, instance-type, and ami-id)<br /><strong>Environment variable</strong>: <code>$BUILDKITE_AGENT_TAGS_FROM_EC2</code></p></td></tr>
<tr id="tags-from-gcp"><th><code>--tags-from-gcp </code> <a class="Docs__attribute__link" href="#tags-from-gcp">#</a></th><td><p>Include the host's Google Cloud instance meta-data as tags (instance-id, machine-type, preemptible, project-id, region, and zone)<br /><strong>Environment variable</strong>: <code>$BUILDKITE_AGENT_TAGS_FROM_GCP</code></p></td></tr>
</table>

<!-- vale on -->
