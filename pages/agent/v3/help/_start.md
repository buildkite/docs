<!--
  _____   ____    _   _  ____ _______   ______ _____ _____ _______ 
 |  __ \ / __ \  | \ | |/ __ \__   __| |  ____|  __ \_   _|__   __|
 | |  | | |  | | |  \| | |  | | | |    | |__  | |  | || |    | |   
 | |  | | |  | | | . ` | |  | | | |    |  __| | |  | || |    | |   
 | |__| | |__| | | |\  | |__| | | |    | |____| |__| || |_   | |   
 |_____/ \____/  |_| \_|\____/  |_|    |______|_____/_____|  |_|   

This file is auto-generated by script/update-agent-help.sh, please update the
agent CLI help in https://github.com/buildkite/agent and run the generation
script.

-->

## Usage

`buildkite-agent start [options...]`

## Description

When a job is ready to run it will call the &quot;bootstrap-script&quot;
and pass it all the environment variables required for the job to run.
This script is responsible for checking out the code, and running the
actual build script defined in the pipeline.

The agent will run any jobs within a PTY (pseudo terminal) if available.

## Example

    $ buildkite-agent start --token xxx

## Options

<table class="Docs__attribute__table">
<tr id="config"><th><code>--config value</code> <a class="Docs__attribute__link" href="#config">#</a></th><td><p>Path to a configuration file</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_AGENT_CONFIG</code></td>
<tr id="name"><th><code>--name value</code> <a class="Docs__attribute__link" href="#name">#</a></th><td><p>The name of the agent</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_AGENT_NAME</code></td>
<tr id="priority"><th><code>--priority value</code> <a class="Docs__attribute__link" href="#priority">#</a></th><td><p>The priority of the agent (higher priorities are assigned work first)</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_AGENT_PRIORITY</code></td>
<tr id="acquire-job"><th><code>--acquire-job value</code> <a class="Docs__attribute__link" href="#acquire-job">#</a></th><td><p>Start this agent and only run the specified job, disconnecting after it's finished</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_AGENT_ACQUIRE_JOB</code></td>
<tr id="disconnect-after-job"><th><code>--disconnect-after-job </code> <a class="Docs__attribute__link" href="#disconnect-after-job">#</a></th><td><p>Disconnect the agent after running a job</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_AGENT_DISCONNECT_AFTER_JOB</code></td>
<tr id="disconnect-after-idle-timeout"><th><code>--disconnect-after-idle-timeout value</code> <a class="Docs__attribute__link" href="#disconnect-after-idle-timeout">#</a></th><td><p>If no jobs have come in for the specified number of seconds, disconnect the agent (default: 0)</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_AGENT_DISCONNECT_AFTER_IDLE_TIMEOUT</code></td>
<tr id="cancel-grace-period"><th><code>--cancel-grace-period value</code> <a class="Docs__attribute__link" href="#cancel-grace-period">#</a></th><td><p>The number of seconds a canceled or timed out job is given to gracefully terminate and upload its artifacts (default: 10)</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_CANCEL_GRACE_PERIOD</code></td>
<tr id="shell"><th><code>--shell value</code> <a class="Docs__attribute__link" href="#shell">#</a></th><td><p>The shell command used to interpret build commands, e.g /bin/bash -e -c (default: "/bin/bash -e -c")</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_SHELL</code></td>
<tr id="tags"><th><code>--tags value</code> <a class="Docs__attribute__link" href="#tags">#</a></th><td><p>A comma-separated list of tags for the agent (e.g. "linux" or "mac,xcode=8")</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_AGENT_TAGS</code></td>
<tr id="tags-from-host"><th><code>--tags-from-host </code> <a class="Docs__attribute__link" href="#tags-from-host">#</a></th><td><p>Include tags from the host (hostname, machine-id, os)</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_AGENT_TAGS_FROM_HOST</code></td>
<tr id="tags-from-ec2-meta-data"><th><code>--tags-from-ec2-meta-data value</code> <a class="Docs__attribute__link" href="#tags-from-ec2-meta-data">#</a></th><td><p>Include the default set of host EC2 meta-data as tags (instance-id, instance-type, ami-id, and instance-life-cycle)</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_AGENT_TAGS_FROM_EC2_META_DATA</code></td>
<tr id="tags-from-ec2-meta-data-paths"><th><code>--tags-from-ec2-meta-data-paths value</code> <a class="Docs__attribute__link" href="#tags-from-ec2-meta-data-paths">#</a></th><td><p>Include additional tags fetched from EC2 meta-data via tag & path suffix pairs, e.g "tag_name=path/to/value"</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_AGENT_TAGS_FROM_EC2_META_DATA_PATHS</code></td>
<tr id="tags-from-ec2-tags"><th><code>--tags-from-ec2-tags </code> <a class="Docs__attribute__link" href="#tags-from-ec2-tags">#</a></th><td><p>Include the host's EC2 tags as tags</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_AGENT_TAGS_FROM_EC2_TAGS</code></td>
<tr id="tags-from-gcp-meta-data"><th><code>--tags-from-gcp-meta-data value</code> <a class="Docs__attribute__link" href="#tags-from-gcp-meta-data">#</a></th><td><p>Include the default set of host Google Cloud instance meta-data as tags (instance-id, machine-type, preemptible, project-id, region, and zone)</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_AGENT_TAGS_FROM_GCP_META_DATA</code></td>
<tr id="tags-from-gcp-meta-data-paths"><th><code>--tags-from-gcp-meta-data-paths value</code> <a class="Docs__attribute__link" href="#tags-from-gcp-meta-data-paths">#</a></th><td><p>Include additional tags fetched from Google Cloud instance meta-data via tag & path suffix pairs, e.g "tag_name=path/to/value"</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_AGENT_TAGS_FROM_GCP_META_DATA_PATHS</code></td>
<tr id="tags-from-gcp-labels"><th><code>--tags-from-gcp-labels </code> <a class="Docs__attribute__link" href="#tags-from-gcp-labels">#</a></th><td><p>Include the host's Google Cloud instance labels as tags</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_AGENT_TAGS_FROM_GCP_LABELS</code></td>
<tr id="wait-for-ec2-tags-timeout"><th><code>--wait-for-ec2-tags-timeout value</code> <a class="Docs__attribute__link" href="#wait-for-ec2-tags-timeout">#</a></th><td><p>The amount of time to wait for tags from EC2 before proceeding (default: 10s)</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_AGENT_WAIT_FOR_EC2_TAGS_TIMEOUT</code></td>
<tr id="wait-for-ec2-meta-data-timeout"><th><code>--wait-for-ec2-meta-data-timeout value</code> <a class="Docs__attribute__link" href="#wait-for-ec2-meta-data-timeout">#</a></th><td><p>The amount of time to wait for meta-data from EC2 before proceeding (default: 10s)</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_AGENT_WAIT_FOR_EC2_META_DATA_TIMEOUT</code></td>
<tr id="wait-for-gcp-labels-timeout"><th><code>--wait-for-gcp-labels-timeout value</code> <a class="Docs__attribute__link" href="#wait-for-gcp-labels-timeout">#</a></th><td><p>The amount of time to wait for labels from GCP before proceeding (default: 10s)</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_AGENT_WAIT_FOR_GCP_LABELS_TIMEOUT</code></td>
<tr id="git-clone-flags"><th><code>--git-clone-flags value</code> <a class="Docs__attribute__link" href="#git-clone-flags">#</a></th><td><p>Flags to pass to the "git clone" command (default: "-v")</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_GIT_CLONE_FLAGS</code></td>
<tr id="git-clean-flags"><th><code>--git-clean-flags value</code> <a class="Docs__attribute__link" href="#git-clean-flags">#</a></th><td><p>Flags to pass to "git clean" command (default: "-ffxdq")</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_GIT_CLEAN_FLAGS</code></td>
<tr id="git-fetch-flags"><th><code>--git-fetch-flags value</code> <a class="Docs__attribute__link" href="#git-fetch-flags">#</a></th><td><p>Flags to pass to "git fetch" command (default: "-v --prune")</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_GIT_FETCH_FLAGS</code></td>
<tr id="git-clone-mirror-flags"><th><code>--git-clone-mirror-flags value</code> <a class="Docs__attribute__link" href="#git-clone-mirror-flags">#</a></th><td><p>Flags to pass to the "git clone" command when used for mirroring (default: "-v")</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_GIT_CLONE_MIRROR_FLAGS</code></td>
<tr id="git-mirrors-path"><th><code>--git-mirrors-path value</code> <a class="Docs__attribute__link" href="#git-mirrors-path">#</a></th><td><p>Path to where mirrors of git repositories are stored</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_GIT_MIRRORS_PATH</code></td>
<tr id="git-mirrors-lock-timeout"><th><code>--git-mirrors-lock-timeout value</code> <a class="Docs__attribute__link" href="#git-mirrors-lock-timeout">#</a></th><td><p>Seconds to lock a git mirror during clone, should exceed your longest checkout (default: 300)</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_GIT_MIRRORS_LOCK_TIMEOUT</code></td>
<tr id="bootstrap-script"><th><code>--bootstrap-script value</code> <a class="Docs__attribute__link" href="#bootstrap-script">#</a></th><td><p>The command that is executed for bootstrapping a job, defaults to the bootstrap sub-command of this binary</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_BOOTSTRAP_SCRIPT_PATH</code></td>
<tr id="build-path"><th><code>--build-path value</code> <a class="Docs__attribute__link" href="#build-path">#</a></th><td><p>Path to where the builds will run from</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_BUILD_PATH</code></td>
<tr id="hooks-path"><th><code>--hooks-path value</code> <a class="Docs__attribute__link" href="#hooks-path">#</a></th><td><p>Directory where the hook scripts are found</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_HOOKS_PATH</code></td>
<tr id="plugins-path"><th><code>--plugins-path value</code> <a class="Docs__attribute__link" href="#plugins-path">#</a></th><td><p>Directory where the plugins are saved to</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_PLUGINS_PATH</code></td>
<tr id="timestamp-lines"><th><code>--timestamp-lines </code> <a class="Docs__attribute__link" href="#timestamp-lines">#</a></th><td><p>Prepend timestamps on each line of output.</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_TIMESTAMP_LINES</code></td>
<tr id="health-check-addr"><th><code>--health-check-addr value</code> <a class="Docs__attribute__link" href="#health-check-addr">#</a></th><td><p>Start an HTTP server on this addr:port that returns whether the agent is healthy, disabled by default</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_AGENT_HEALTH_CHECK_ADDR</code></td>
<tr id="no-pty"><th><code>--no-pty </code> <a class="Docs__attribute__link" href="#no-pty">#</a></th><td><p>Do not run jobs within a pseudo terminal</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_NO_PTY</code></td>
<tr id="no-ssh-keyscan"><th><code>--no-ssh-keyscan </code> <a class="Docs__attribute__link" href="#no-ssh-keyscan">#</a></th><td><p>Don't automatically run ssh-keyscan before checkout</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_NO_SSH_KEYSCAN</code></td>
<tr id="no-command-eval"><th><code>--no-command-eval </code> <a class="Docs__attribute__link" href="#no-command-eval">#</a></th><td><p>Don't allow this agent to run arbitrary console commands, including plugins</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_NO_COMMAND_EVAL</code></td>
<tr id="no-plugins"><th><code>--no-plugins </code> <a class="Docs__attribute__link" href="#no-plugins">#</a></th><td><p>Don't allow this agent to load plugins</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_NO_PLUGINS</code></td>
<tr id="no-plugin-validation"><th><code>--no-plugin-validation </code> <a class="Docs__attribute__link" href="#no-plugin-validation">#</a></th><td><p>Don't validate plugin configuration and requirements</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_NO_PLUGIN_VALIDATION</code></td>
<tr id="no-local-hooks"><th><code>--no-local-hooks </code> <a class="Docs__attribute__link" href="#no-local-hooks">#</a></th><td><p>Don't allow local hooks to be run from checked out repositories</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_NO_LOCAL_HOOKS</code></td>
<tr id="no-git-submodules"><th><code>--no-git-submodules </code> <a class="Docs__attribute__link" href="#no-git-submodules">#</a></th><td><p>Don't automatically checkout git submodules [$BUILDKITE_NO_GIT_SUBMODULES, $BUILDKITE_DISABLE_GIT_SUBMODULES]</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_NO_GIT_SUBMODULES</code></td>
<tr id="metrics-datadog"><th><code>--metrics-datadog </code> <a class="Docs__attribute__link" href="#metrics-datadog">#</a></th><td><p>Send metrics to DogStatsD for Datadog</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_METRICS_DATADOG</code></td>
<tr id="metrics-datadog-host"><th><code>--metrics-datadog-host value</code> <a class="Docs__attribute__link" href="#metrics-datadog-host">#</a></th><td><p>The dogstatsd instance to send metrics to via udp (default: "127.0.0.1:8125")</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_METRICS_DATADOG_HOST</code></td>
<tr id="metrics-datadog-distributions"><th><code>--metrics-datadog-distributions </code> <a class="Docs__attribute__link" href="#metrics-datadog-distributions">#</a></th><td><p>Use Datadog Distributions for Timing metrics</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_METRICS_DATADOG_DISTRIBUTIONS</code></td>
<tr id="log-format"><th><code>--log-format value</code> <a class="Docs__attribute__link" href="#log-format">#</a></th><td><p>The format to use for the logger output (default: "text")</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_LOG_FORMAT</code></td>
<tr id="spawn"><th><code>--spawn value</code> <a class="Docs__attribute__link" href="#spawn">#</a></th><td><p>The number of agents to spawn in parallel (default: 1)</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_AGENT_SPAWN</code></td>
<tr id="cancel-signal"><th><code>--cancel-signal value</code> <a class="Docs__attribute__link" href="#cancel-signal">#</a></th><td><p>The signal to use for cancellation (default: "SIGTERM")</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_CANCEL_SIGNAL</code></td>
<tr id="redacted-vars"><th><code>--redacted-vars value</code> <a class="Docs__attribute__link" href="#redacted-vars">#</a></th><td><p>Pattern of environment variable names containing sensitive values (default: "*_PASSWORD", "*_SECRET", "*_TOKEN", "*_ACCESS_KEY", "*_SECRET_KEY")</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_REDACTED_VARS</code></td>
<tr id="tracing-backend"><th><code>--tracing-backend value</code> <a class="Docs__attribute__link" href="#tracing-backend">#</a></th><td><p>The name of the tracing backend to use.</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_TRACING_BACKEND</code></td>
<tr id="token"><th><code>--token value</code> <a class="Docs__attribute__link" href="#token">#</a></th><td><p>Your account agent token</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_AGENT_TOKEN</code></td>
<tr id="endpoint"><th><code>--endpoint value</code> <a class="Docs__attribute__link" href="#endpoint">#</a></th><td><p>The Agent API endpoint (default: "<code>https://agent.buildkite.com/v3</code>")</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_AGENT_ENDPOINT</code></td>
<tr id="no-http2"><th><code>--no-http2 </code> <a class="Docs__attribute__link" href="#no-http2">#</a></th><td><p>Disable HTTP2 when communicating with the Agent API.</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_NO_HTTP2</code></td>
<tr id="debug-http"><th><code>--debug-http </code> <a class="Docs__attribute__link" href="#debug-http">#</a></th><td><p>Enable HTTP debug mode, which dumps all request and response bodies to the log</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_AGENT_DEBUG_HTTP</code></td>
<tr id="no-color"><th><code>--no-color </code> <a class="Docs__attribute__link" href="#no-color">#</a></th><td><p>Don't show colors in logging</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_AGENT_NO_COLOR</code></td>
<tr id="debug"><th><code>--debug </code> <a class="Docs__attribute__link" href="#debug">#</a></th><td><p>Enable debug mode</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_AGENT_DEBUG</code></td>
<tr id="experiment"><th><code>--experiment value</code> <a class="Docs__attribute__link" href="#experiment">#</a></th><td><p>Enable experimental features within the buildkite-agent</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_AGENT_EXPERIMENT</code></td>
<tr id="profile"><th><code>--profile value</code> <a class="Docs__attribute__link" href="#profile">#</a></th><td><p>Enable a profiling mode, either cpu, memory, mutex or block</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_AGENT_PROFILE</code></td>
<tr id="tags-from-ec2"><th><code>--tags-from-ec2 </code> <a class="Docs__attribute__link" href="#tags-from-ec2">#</a></th><td><p>Include the host's EC2 meta-data as tags (instance-id, instance-type, and ami-id)</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_AGENT_TAGS_FROM_EC2</code></td>
<tr id="tags-from-gcp"><th><code>--tags-from-gcp </code> <a class="Docs__attribute__link" href="#tags-from-gcp">#</a></th><td><p>Include the host's Google Cloud instance meta-data as tags (instance-id, machine-type, preemptible, project-id, region, and zone)</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_AGENT_TAGS_FROM_GCP</code></td>
</table>
