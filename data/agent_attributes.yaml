attributes:
- name: token
  env_var: BUILDKITE_AGENT_TOKEN
  default_value: None
  required: true
  desc: |
      The agent registration token from your organizationâ€™s _Agents_ page, used only to register new agents. To get your token, log in to Buildkite, navigate to _Agents_, then select _Reveal Agent Token_.
- name: bootstrap-script
  env_var: BUILDKITE_BOOTSTRAP_SCRIPT_PATH
  default_value: "buildkite-agent bootstrap"
  required: false
  desc: |
      Command to invoke the bootstrap process.
- name: build-path
  env_var: BUILDKITE_BUILD_PATH
  default_value: "(depends on platform)"
  required: false
  desc: |
      Path to where the builds will run from.
- name: cancel-grace-period
  env_var: BUILDKITE_CANCEL_GRACE_PERIOD
  default_value: "10"
  required: false
  desc: | 
      The number of seconds a canceled or timed out job is given to gracefully terminate and upload its artifacts.
- name: cancel-signal
  env_var: BUILDKITE_CANCEL_SIGNAL
  default_value: "SIGTERM"
  required: false
  desc: | 
      The signal that the agent sends to the bootstrap to signal cancellation.
- name: debug
  env_var: BUILDKITE_AGENT_DEBUG
  default_value: "false"
  required: false
  desc: | 
      Enable debug mode.
- name: debug-http
  env_var: BUILDKITE_AGENT_DEBUG_HTTP
  default_value: "false"
  required: false
  desc: | 
      Log all HTTP request and response bodies.
- name: disconnect-after-job
  env_var: BUILDKITE_AGENT_DISCONNECT_AFTER_JOB
  default_value: "false"
  required: false
  desc: | 
      Disconnect after processing a single job.
- name: disconnect-after-idle-timeout
  env_var: BUILDKITE_AGENT_DISCONNECT_AFTER_IDLE_TIMEOUT
  default_value: ""
  required: false
  desc: | 
      The number of idle seconds to wait before shutting down. When setting this option alongside `spawn`, all agents started by `spawn` must be idle before the timeout counter will begin. After the timeout, the spawned agents will all disconnect.
- name: endpoint
  env_var: BUILDKITE_AGENT_ENDPOINT
  default_value: "https://agent.buildkite.com/v3"
  required: false
  desc: | 
      The Agent endpoint.
- name: experiment
  env_var: BUILDKITE_AGENT_EXPERIMENT
  default_value: ""
  required: false
  desc: | 
      A list of [experimental agent features](https://buildkite.com/docs/agent/v3#experimental-features) you want to enable.
- name: git-clean-flags
  env_var: BUILDKITE_GIT_CLEAN_FLAGS
  default_value: "-ffxdq"
  required: false
  desc: | 
      Flags to pass to the `git clean` command.
      Agents below v3.0.0 default to "-fdq".
      Agents v3.0.0 to v3.7.0 default to "-fxdq".
- name: git-clone-flags
  env_var: BUILDKITE_GIT_CLONE_FLAGS
  default_value: "-v"
  required: false
  desc: | 
      Flags to pass to the `git clone` command.
- name: 
  env_var: BUILDKITE_
  default_value: ""
  required: false
  desc: | 
      _Default on Elastic CI Stack for AWS:_ "`%hostname-%spawn`" ([v5.2.0](https://github.com/buildkite/elastic-ci-stack-for-aws/releases/tag/v5.2.0) and later).
- name: no-color
  env_var: BUILDKITE_AGENT_NO_COLOR
  default_value: "false"
  required: false
  desc: | 
      Do not show colors in logging.
- name: no-command-eval
  env_var: BUILDKITE_NO_COMMAND_EVAL
  default_value: "false"
  required: false
  desc: | 
      Do not allow this agent to run arbitrary console commands.
- name: no-git-submodules
  env_var: BUILDKITE_NO_GIT_SUBMODULES, BUILDKIT_DISABLE_GIT_SUBMODULES
  default_value: "false"
  required: false
  desc: | 
      Do not automatically checkout git submodules.
- name: no-http2
  env_var: BUILDKITE_NO_HTTP2
  default_value: "false"
  required: false
  desc: | 
      Disable HTTP2 when communicating with the Agent API.
- name: no-local-hooks
  env_var: BUILDKITE_AGENT_NO_LOCAL_HOOKS
  default_value: "false"
  required: false
  desc: | 
      Do not execute any local hooks.
- name: no-plugins
  env_var: BUILDKITE_NO_PLUGINS
  default_value: "false"
  required: false
  desc: | 
      Do not load any plugins.
- name: no-plugin-validation
  env_var: BUILDKITE_NO_PLUGIN_VALIDATION
  default_value: "false"
  required: false
  desc: | 
      Do not validate plugin configuration and requirements.
- name: no-pty
  env_var: BUILDKITE_NO_PTY
  default_value: "false"
  required: false
  desc: | 
      Do not run jobs within a pseudo terminal.
- name: no-ssh-keyscan 
  env_var: BUILDKITE_NO_SSH_KEYSCAN
  default_value: "false"
  required: false
  desc: | 
      Do not automatically run ssh-keyscan before checkout.
- name: plugins-path
  env_var: BUILDKITE_PLUGINS_PATH
  default_value: "(depends on platform)"
  required: false
  desc: | 
      Directory where the plugins are saved.
- name: priority 
  env_var: BUILDKITE_AGENT_PRIORITY
  default_value: "null"
  required: false
  desc: | 
      The priority of the agent. Higher priorities are assigned work first, null is assigned last.
- name: redacted-vars 
  env_var: BUILDKITE_REDACTED_VARS
  default_value: "'*_PASSWORD', '*_SECRET', '*_TOKEN'"
  required: false
  desc: | 
      The values of environment variables whose names match these patterns are [redacted](/docs/pipelines/managing-log-output#redacted-environment-variables) before being printed to the build log.
      This is an experimental feature. To use it, set `experiment="git-mirrors"` in your agent configuration.
- name: shell
  env_var: BUILDKITE_SHELL
  default_value: "`C:\\Windows\\System32\\CMD.exe`\" on Windows, \"`/bin/bash`\" on *nix systems"
  required: false
  desc: | 
      The shell command used to interpret build commands. 
      _Example:_ `/bin/bash -e -c`.
- name: spawn
  env_var: BUILDKITE_AGENT_SPAWN
  default_value: "1"
  required: false
  desc: | 
      The number of agents to spawn in parallel.
- name: tags
  env_var: BUILDKITE_AGENT_TAGS
  default_value: "queue=default"
  required: false
  desc: | 
      Tags for the agent.
- name: tags-from-ec2
  env_var: BUILDKITE_AGENT_TAGS_FROM_EC2
  default_value: "false"
  required: false
  desc: | 
      Include the host's EC2 meta-data (instance-id, instance-type, and ami-id) as tags.
- name: tags-from-ec2-tags
  env_var: BUILDKITE_AGENT_TAGS_FROM_EC2_TAGS
  default_value: "false"
  required: false
  desc: | 
      Include the host's EC2 tags as agent tags.
- name: tags-from-gcp
  env_var: BUILDKITE_AGENT_TAGS_FROM_GCP
  default_value: "false"
  required: false
  desc: | 
      Include the host's Google Cloud meta-data as tags (instance-id, machine-type, preemptible, project-id, region, and zone).
- name: tags-from-gcp-labels 
  env_var: BUILDKITE_AGENT_TAGS_FROM_GCP_LABELS
  default_value: "false"
  required: false
  desc: | 
      Include the host's Google Cloud instance labels as tags.
- name: tags-from-host
  env_var: BUILDKITE_AGENTS_TAGS_FROM_HOST
  default_value: "fals"
  required: false
  desc: | 
      Include the host's meta-data as tags (hostname, machine-id, and OS).
- name: timestamp-lines
  env_var: BUILDKITE_TIMESTAMP_LINES
  default_value: "false"
  required: false
  desc: | 
      Prepend timestamps on each line of output.
- name: tracing-backend
  env_var: BUILDKITE_TRACING_BACKEND
  default_value: "none"
  required: false
  desc: | 
      Set to `datadog` to enable the Datadog API tracing for builds using the default APM address `localhost:8126`, or Datadog variables like `DD_AGENT_HOST` and `DD_AGENT_APM_PORT`. Accepts blank string or "datadog".
- name: wait-for-ec2-tags-timeout
  env_var: BUILDKITE_AGENT_WAIT_FOR_EC2_TAGS_TIMEOUT
  default_value: "10"
  required: false
  desc: | 
      The amount of time in seconds to wait for tags from EC2 before proceeding.
- name: wait-for-gcp-labels-timeout
  env_var: BUILDKITE_AGENT_WAIT_FOR_GCP_LABELS_TIMEOUT
  default_value: "10"
  required: false
  desc: | 
      The amount of time in seconds to wait for tags from GCP before proceeding.

